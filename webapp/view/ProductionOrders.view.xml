<mvc:View
    controllerName="ZSHOPFLOOR_PORTAL_UI5_863.controller.ProductionOrders"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    displayBlock="true">
    <Page id="productionOrdersPage" title="{i18n>productionOrdersTitle}" showNavButton="true" navButtonPress=".onNavBack" class="productionOrdersPage">
        <subHeader>
            <Toolbar>
                <Title text="{i18n>productionOrdersSubtitle}" level="H3"/>
                <ToolbarSpacer/>
                <Select
                    id="idPeriodSelect"
                    width="200px"
                    change=".onSearch"
                    class="sapUiSmallMarginEnd"/>
                <SearchField 
                    id="searchField"
                    placeholder="{i18n>searchPlaceholder}"
                    search=".onSearch"
                    width="300px"/>
                <Button 
                    icon="sap-icon://refresh" 
                    tooltip="{i18n>refreshButton}"
                    press=".onRefresh"/>
            </Toolbar>
        </subHeader>
        
        <content>
            <Table
                id="productionOrdersTable"
                items="{
                    path: 'localModel>/results'
                }"
                growing="true"
                growingThreshold="20"
                mode="SingleSelectMaster"
                class="sapUiResponsiveContentPadding">
                <headerToolbar>
                    <Toolbar>
                        <Title text="{parts: [{path: 'i18n>productionOrdersTitle'}, {path: 'viewModel>/filterType'}], formatter: '.formatter.formatTitle'}"/>
                        <ToolbarSpacer/>
                        <Text text="Total: {viewModel>/count}"/>
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column width="10em">
                        <Text text="{i18n>colOrderNumber}"/>
                    </Column>
                    <Column width="10em">
                        <Text text="{i18n>colOrderType}"/>
                    </Column>
                    <Column width="8em" minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>colPlant}"/>
                    </Column>
                    <Column width="15em">
                        <Text text="{i18n>colDescription}"/>
                    </Column>
                    <Column width="8em" minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>colEnteredBy}"/>
                    </Column>
                    <Column width="10em">
                        <Text text="{i18n>colCreationDate}"/>
                    </Column>
                    <Column width="10em" minScreenWidth="Desktop" demandPopin="true">
                        <Text text="{i18n>colBasicStartDate}"/>
                    </Column>
                    <Column width="10em" minScreenWidth="Desktop" demandPopin="true">
                        <Text text="{i18n>colBasicFinishDate}"/>
                    </Column>
                    <Column width="9em" hAlign="End" minScreenWidth="Tablet" demandPopin="true">
                        <Text text="{i18n>colTotalOrderQuantity}"/>
                    </Column>
                    <Column width="10em" minScreenWidth="Desktop" demandPopin="true">
                        <Text text="{i18n>colActualReleaseDate}"/>
                    </Column>
                </columns>
                <items>
                    <ColumnListItem type="Active">
                        <cells>
                            <ObjectIdentifier 
                                title="{localModel>Ordernumber}"
                                titleActive="true"/>
                            <ObjectStatus 
                                text="{
                                    path: 'localModel>Ordertype',
                                    formatter: '.formatter.formatOrderType'
                                }"
                                state="{
                                    path: 'localModel>Ordertype',
                                    formatter: '.getOrderTypeState'
                                }"/>
                            <Text text="{localModel>Plant}"/>
                            <Text text="{localModel>Description}"/>
                            <Text text="{localModel>Enteredby}"/>
                            <Text text="{
                                path: 'localModel>Creationdate',
                                formatter: '.formatter.formatDate'
                            }"/>
                            <Text text="{
                                path: 'localModel>Basicstartdate',
                                formatter: '.formatter.formatDate'
                            }"/>
                            <Text text="{
                                path: 'localModel>Basicfinishdate',
                                formatter: '.formatter.formatDate'
                            }"/>
                            <ObjectNumber 
                                number="{localModel>Totalorderquantity}" 
                                unit="{localModel>Baseunitofmeasure}"
                                state="None"/>
                            <Text text="{
                                path: 'localModel>Actualreleasedate',
                                formatter: '.formatter.formatDate'
                            }"/>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
    </Page>
</mvc:View>
